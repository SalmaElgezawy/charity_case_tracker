# تصميم تطبيق تسجيل بيانات الحالات - جمعية نبع الحياة

## نظرة عامة
تطبيق موبايل أندرويد أوفلاين لتسجيل بيانات الحالات الإنسانية من قبل المتطوعين والباحثين الاجتماعيين. التطبيق يدعم تسجيل الدخول، إدخال البيانات، التعديل على السجلات، وحفظ البيانات في ملف Excel محلي.

## معايير التصميم
- **الاتجاه:** عمودي (Portrait) - 9:16
- **الاستخدام:** بيد واحدة
- **الأسلوب:** يتبع معايير Apple Human Interface Guidelines (HIG)
- **الألوان:** مستوحاة من شعار الجمعية (أصفر #FFD700 وأسود #000000)
  - اللون الأساسي: أصفر ذهبي (#FFD700)
  - اللون الثانوي: أسود (#1A1A1A)
  - اللون الخلفية: أبيض (#FFFFFF) مع ظلال رمادية خفيفة
  - اللون النصوص: أسود (#1A1A1A) للعناوين، رمادي (#666666) للنصوص الثانوية

## قائمة الشاشات

### 1. شاشة تسجيل الدخول (Login Screen)
**الهدف:** التحقق من هوية المتطوع قبل الوصول للتطبيق

**المحتوى:**
- شعار الجمعية في الأعلى
- حقل إدخال اسم المتطوع (Username)
- حقل إدخال كلمة المرور (Password)
- زر "دخول" (Login)
- رسالة خطأ (إن وجدت)

**الوظائف:**
- التحقق من بيانات تسجيل الدخول
- حفظ جلسة المتطوع محلياً
- الانتقال إلى الشاشة الرئيسية عند النجاح

---

### 2. الشاشة الرئيسية (Home Screen)
**الهدف:** عرض الخيارات الرئيسية للمتطوع

**المحتوى:**
- ترحيب بالمتطوع (مثلاً: "مرحباً، أحمد")
- أزرار الخيارات الرئيسية:
  - "إضافة حالة جديدة" (Add New Case)
  - "عرض الحالات المسجلة" (View Cases)
  - "تصدير البيانات" (Export Data)
  - "تسجيل الخروج" (Logout)
- عداد الحالات المسجلة من قبل المتطوع

**الوظائف:**
- الانتقال إلى نموذج إدخال البيانات
- عرض قائمة الحالات المسجلة
- تصدير البيانات إلى ملف Excel
- تسجيل الخروج والعودة لشاشة الدخول

---

### 3. شاشة إضافة/تعديل البيانات (Case Form Screen)
**الهدف:** إدخال أو تعديل بيانات الحالة الإنسانية

**المحتوى الرئيسي:**
- **بيانات رب الأسرة:**
  - الاسم بالكامل (مفروض)
  - الرقم القومي (14 رقم، مفروض)
  - رقم الهاتف (11 رقم، اختياري)
  - السن (اختياري)

- **بيانات الزوج/الزوجة:**
  - الحالة الاجتماعية (متزوج/مطلق/أرمل - قائمة منسدلة)
  - اسم الزوج/الزوجة (مفروض فقط إذا كانت الحالة "متزوج")
  - الرقم القومي للزوج/الزوجة (14 رقم، مفروض فقط إذا كانت الحالة "متزوج")

- **بيانات الأسرة:**
  - عدد أفراد الأسرة (رقم، مفروض)
  - الحالة الصحية (نص طويل - وصف الحالة الصحية)
  - الحالة التعليمية للأبناء (نص طويل - وصف مستويات التعليم)

- **الحالة الاقتصادية:**
  - الدخل الشهري (رقم، اختياري)
  - احتياجات الأسرة (نص طويل - وصف الاحتياجات)

- **ملاحظات الباحث:**
  - رأي الباحث/المتطوع (نص طويل - ملاحظات عامة)

**الوظائف:**
- التحقق من صحة البيانات المدخلة
- تفعيل/تعطيل حقول الزوج بناءً على الحالة الاجتماعية
- حفظ البيانات محلياً
- الرجوع إلى الشاشة السابقة

---

### 4. شاشة عرض الحالات (Cases List Screen)
**الهدف:** عرض قائمة الحالات المسجلة من قبل المتطوع

**المحتوى:**
- قائمة الحالات (كل حالة تعرض):
  - اسم رب الأسرة
  - الرقم القومي
  - تاريخ التسجيل
  - أيقونة تحرير (Edit)
  - أيقونة حذف (Delete)
- شريط بحث (اختياري)
- عداد الحالات الكلي

**الوظائف:**
- البحث عن حالة محددة
- الضغط على حالة للتعديل عليها
- حذف حالة (مع تأكيد)
- الرجوع إلى الشاشة الرئيسية

---

### 5. شاشة تصدير البيانات (Export Screen)
**الهدف:** تصدير البيانات إلى ملف Excel

**المحتوى:**
- رسالة توضيحية عن عملية التصدير
- زر "تصدير البيانات" (Export Data)
- عرض حالة التصدير (نجاح/فشل)
- خيار مشاركة الملف

**الوظائف:**
- إنشاء ملف Excel يحتوي على جميع البيانات
- حفظ الملف في مجلد التنزيلات
- إمكانية مشاركة الملف عبر الواتساب أو الإيميل

---

## التدفقات الرئيسية

### تدفق تسجيل الدخول
1. المستخدم يفتح التطبيق
2. يدخل اسم المتطوع وكلمة المرور
3. التطبيق يتحقق من البيانات محلياً
4. عند النجاح: الانتقال للشاشة الرئيسية
5. عند الفشل: عرض رسالة خطأ

### تدفق إضافة حالة جديدة
1. من الشاشة الرئيسية، المتطوع يضغط "إضافة حالة جديدة"
2. يتم فتح نموذج الإدخال
3. المتطوع يملأ البيانات المطلوبة
4. عند اختيار "متزوج"، تفعيل حقول الزوج
5. عند اختيار "مطلق" أو "أرمل"، تعطيل حقول الزوج
6. المتطوع يضغط "حفظ"
7. التطبيق يتحقق من صحة البيانات
8. عند النجاح: حفظ البيانات وإضافتها للقائمة
9. الرجوع للشاشة الرئيسية

### تدفق تعديل حالة
1. من شاشة عرض الحالات، المتطوع يضغط على حالة
2. يتم فتح نموذج الإدخال مع البيانات السابقة
3. المتطوع يعدل البيانات المطلوبة
4. يضغط "حفظ"
5. التطبيق يتحقق من صحة البيانات
6. عند النجاح: تحديث البيانات
7. الرجوع لشاشة عرض الحالات

### تدفق تصدير البيانات
1. من الشاشة الرئيسية، المتطوع يضغط "تصدير البيانات"
2. التطبيق ينشئ ملف Excel يحتوي على جميع الحالات
3. يتم حفظ الملف في مجلد التنزيلات
4. عرض رسالة نجاح مع خيار المشاركة
5. المتطوع يمكنه مشاركة الملف عبر الواتساب أو الإيميل

---

## قيود التحقق من البيانات

| الحقل | القيد |
|-------|-------|
| الرقم القومي | يجب أن يكون 14 رقم بالضبط |
| رقم الهاتف | يجب أن يكون 11 رقم بالضبط (اختياري) |
| اسم الزوج | مفروض فقط إذا كانت الحالة الاجتماعية "متزوج" |
| رقم القومي للزوج | مفروض فقط إذا كانت الحالة الاجتماعية "متزوج"، يجب أن يكون 14 رقم |
| عدد أفراد الأسرة | يجب أن يكون رقم موجب |
| الدخل الشهري | يجب أن يكون رقم موجب (اختياري) |

---

## ملاحظات التصميم

1. **الألوان:** استخدام الأصفر الذهبي كلون أساسي للأزرار والعناوين، والأسود للنصوص الرئيسية
2. **الخطوط:** استخدام خطوط واضحة وسهلة القراءة (مثل Roboto أو Open Sans)
3. **الحجم:** جميع الأزرار والحقول يجب أن تكون كبيرة بما يكفي للاستخدام بيد واحدة
4. **الاستجابة:** التطبيق يجب أن يعمل بسلاسة دون تأخير
5. **الرسائل:** عرض رسائل واضحة عند النجاح أو الفشل
6. **التخزين:** جميع البيانات تُحفظ محلياً على الجهاز (Offline-first)
